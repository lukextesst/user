<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Sistema de GeraÃ§Ã£o de Keys - Among Us Mod Menu">
    <meta name="theme-color" content="#1a2433">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸš€</text></svg>">
    <title>MIRA HQ - Terminal de Acesso</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style_glitch.css">
</head>
<body>
  <canvas id="starfield-canvas"></canvas>
  <div class="scanline-overlay"></div>

  <div class="main-header">
    <div class="header-content">
      <header>
        <h1 data-translate-key="main_title" data-text="Terminal de Acesso - MIRA HQ">Terminal de Acesso - MIRA HQ</h1>
        <p class="subtitle" data-translate-key="main_subtitle">ğŸ§‘â€ğŸš€ Tripulante, requisite sua IdentificaÃ§Ã£o de Acesso ou verifique os registros do ciclo atual. Mantenha-se alerta!</p>
      </header>
    </div>
    <div id="userProfileHeader" class="user-profile-header" style="display: none;">
      <img id="userAvatarHeader" src="" alt="Avatar" class="user-avatar-header">
      <div class="user-info-header">
        <span id="userNameHeader" class="username-header"></span>
        <span id="userDiscriminatorHeader" class="discriminator-header"></span>
      </div>
    </div>
  </div>

  <main class="container">
    <div class="status-indicator">
      <div class="status-dot online"></div>
      <span data-translate-key="status_online">Sistema MIRA HQ Online</span>
    </div>

    <section id="authSection" class="auth-section">
        <button id="discordAuthBtn" class="discord-auth-btn">
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE4LjU0IDcuNzZMMTcuMDggMTkuMkwxMiA5LjY4TDYuOTIgMTkuMkw1LjQ2IDcuNzZMMTIgNS4xTDE4LjU0IDcuNzZaIiBmaWxsPSIjNTg2NUYyIi8+Cjwvc3ZnPg==" alt="Discord">
            <span data-translate-key="login_discord">ğŸ® Entrar com Discord</span>
        </button>
    </section>

    <div id="userContent" class="user-content-wrapper" style="display: none;">
      <div class="controls-section">
        <!-- BotÃ£o de som removido ou estilizado melhor se desejar -->
      </div>

      <div class="cooldown-section" id="cooldownSection" style="display: none;">
        <div class="cooldown-timer">
          <div data-translate-key="cooldown_title">âš ï¸ SISTEMA EM COOLDOWN</div>
          <div id="cooldownTime">30s</div>
          <div style="font-size: 0.8em; margin-top: 0.5rem;" data-translate-key="cooldown_subtitle">Aguarde para nova solicitaÃ§Ã£o</div>
        </div>
      </div>

      <div class="key-limit-section" id="keyLimitSection" style="display: none;">
        <div class="key-limit-info" id="keyLimitInfo">
          <div id="keyLimitText"></div>
          <div style="font-size: 0.85em; margin-top: 0.5rem;" id="keyLimitHelper" data-translate-key="key_limit_helper"></div>
        </div>
      </div>
      
      <div class="button-group">
        <button id="generateBtn" title="Requisitar nova ID de Acesso via verificaÃ§Ã£o">
          <span class="button-text" data-translate-key="generate_button">âš ï¸ INICIAR TASK: REGISTRO</span>
          <span class="spinner"></span>
        </button>
        <button id="viewKeysBtn" title="Consultar IDs de Tripulantes Ativos">
          <span class="button-text" data-translate-key="view_keys_button">ğŸ›°ï¸ LOG DE SISTEMA</span>
          <span class="spinner"></span>
        </button>
      </div>
      
      <section class="key-display-area">
        <div class="key-container" id="keyContainer"> 
          <div class="key-value-label" data-translate-key="key_label">ID de Tripulante Designada:</div>
          <div class="key-value" id="keyValue"></div>
          <div class="key-actions" id="keyActions" style="display: none;">
            <button class="copy-button" id="copyButton">
              <span data-translate-key="copy_button">ğŸ“‹ Copiar ID</span>
            </button>
          </div>
          <div class="key-metadata" id="keyMetadata" style="display: none;">
            <div><span data-translate-key="generated_at">ğŸ“… Gerada em:</span> <span id="keyTimestamp"></span></div>
            <div data-translate-key="key_type">ğŸ”‘ Tipo: Acesso MIRA HQ</div>
            <div data-translate-key="key_status">â±ï¸ Status: Ativa</div>
          </div>
          <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill"></div>
          </div>
        </div>
      </section>
      
      <section class="message-area">
        <div class="message" id="message"></div>
      </section>
      
      <section class="keys-list-section">
        <h2 data-translate-key="records_title">Registros de IDs - Ciclo Atual</h2>
        <ul id="keysList">
        </ul>
      </section>
    </div>

    <div class="bottom-buttons">
      <button class="support-button" id="supportButton">
        <span data-translate-key="support_button">ğŸ†˜ Suporte</span>
      </button>

      <button class="translate-button" id="translateButton">
        <span data-translate-key="translate_button">ğŸŒ Traduzir PÃ¡gina</span>
      </button>
    </div>
  </main>

  <div id="userProfileModal" class="modal">
    <div class="modal-content profile-modal">
        <span class="close-modal">&times;</span>
        <div class="modal-header">
            <img id="modalUserAvatar" src="" alt="Avatar" class="modal-avatar">
            <div class="modal-user-info">
                <h3 id="modalUserName"></h3>
                <p id="modalUserDiscriminator" class="user-handle"></p>
                <div id="modalServerStatus" class="server-badge"></div>
            </div>
        </div>
        <div class="modal-stats">
            <div class="stat-card">
                <div class="stat-icon">ğŸ”‘</div>
                <div class="stat-info">
                    <span class="stat-value" id="statKeysToday">0</span>
                    <span class="stat-label" data-translate-key="stat_keys_today">Keys Hoje</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“Š</div>
                <div class="stat-info">
                    <span class="stat-value" id="statTotalKeys">0</span>
                    <span class="stat-label" data-translate-key="stat_total_keys">Total Keys</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-info">
                    <span class="stat-value" id="statActiveKeys">0</span>
                    <span class="stat-label" data-translate-key="stat_active_keys">Keys Ativas</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ•’</div>
                <div class="stat-info">
                    <span class="stat-value" id="statMemberSince">N/A</span>
                    <span class="stat-label" data-translate-key="stat_member_since">Membro desde</span>
                </div>
            </div>
        </div>
        <div class="modal-actions">
            <button id="modalGenerateBtn" class="modal-action-btn generate-btn">
                <span data-translate-key="modal_generate_button">ğŸš€ Gerar Nova Key</span>
            </button>
            <button id="modalLogoutBtn" class="modal-action-btn modal-logout-btn">
                <span data-translate-key="modal_logout_button">ğŸšª Sair</span>
            </button>
        </div>
    </div>
  </div>

  <div class="overlay" id="overlay"></div>

  <div class="discord-widget-container" id="discordWidgetContainer">
    <div class="discord-widget-header">
      <h3 class="discord-widget-title" data-translate-key="widget_title">Suporte - Discord</h3>
      <button class="close-widget" id="closeWidget">&times;</button>
    </div>
    <div class="discord-widget">
      <iframe src="https://discord.com/widget?id=1372893306727563284&theme=dark" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
    </div>
  </div>

  <div class="achievement-popup" id="achievementPopup"></div>

  <script src="script.js" defer></script>
</body>
</html>
